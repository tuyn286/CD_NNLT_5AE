<template>
  <div class="category-menu-container">
    <h2>Danh m·ª•c:</h2>
    <div class="category-list">
      <div
        v-for="category in categories"
        :key="category.id"
        class="category-item"
        :class="{ 'is-active': selectedCategory === category.id }"
        @click="selectCategory(category.id)"
      >
        <img v-if="category.icon" :src="category.icon" :alt="category.name" class="category-icon">
        <span>{{ category.name }}</span>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'CategoryMenu',
  data() {
    return {
      categories: [
        { id: 1, name: 'T·∫•t c·∫£', icon: null },
        { id: 2, name: 'G√†', icon: 'https://via.placeholder.com/30/FFB300/FFFFFF?text=üêî' }, // Placeholder icon
        { id: 3, name: 'Ch√≥', icon: 'https://via.placeholder.com/30/FFB300/FFFFFF?text=üê∂' }, // Placeholder icon
        { id: 4, name: 'Chim', icon: 'https://via.placeholder.com/30/FFB300/FFFFFF?text=üê¶' }, // Placeholder icon
        { id: 5, name: 'M√®o', icon: 'https://via.placeholder.com/30/FFB300/FFFFFF?text=üê±' }, // Placeholder icon
        { id: 6, name: 'Th√∫ c∆∞ng kh√°c', icon: 'https://via.placeholder.com/30/FFB300/FFFFFF?text=üêæ' }, // Placeholder icon
        { id: 7, name: 'Ph·ª• ki·ªán, Th·ª©c ƒÉn...', icon: 'https://via.placeholder.com/30/FFB300/FFFFFF?text=ü¶¥' }, // Placeholder icon
      ],
      selectedCategory: 1 // M·∫∑c ƒë·ªãnh ch·ªçn 'T·∫•t c·∫£'
    };
  },
  methods: {
    selectCategory(categoryId) {
      this.selectedCategory = categoryId;
      // Ph√°t ra s·ª± ki·ªán 'category-selected' v·ªõi ID c·ªßa danh m·ª•c
      this.$emit('category-selected', categoryId);
      console.log('Ch·ªçn danh m·ª•c:', categoryId);
    }
  }
};
</script>

<style scoped>
.category-menu-container {
  padding: 10px;
  background-color: #fff;
  border-radius: 4px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  margin-bottom: 20px;
}

.category-menu-container h2 {
    font-size: 1.1rem;
    margin-bottom: 10px;
    color: #333;
}

.category-list {
  display: flex;
  flex-wrap: wrap;
  gap: 10px; /* Kho·∫£ng c√°ch gi·ªØa c√°c danh m·ª•c */
}

.category-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 8px 15px;
  border: 1px solid #eee;
  border-radius: 20px; /* H√¨nh vi√™n thu·ªëc */
  cursor: pointer;
  transition: background-color 0.3s ease;
  font-size: 0.9rem;
  color: #555;
}

.category-item:hover {
  background-color: #f0f0f0;
}

.category-item.is-active {
  background-color: #ffb300; /* M√†u cam khi ƒë∆∞·ª£c ch·ªçn */
  color: white;
  border-color: #ffb300;
}

.category-item.is-active .category-icon {
    filter: brightness(0) invert(1); /* ƒê·∫£o m√†u icon khi active n·∫øu icon l√† d·∫°ng ƒëen tr·∫Øng */
}

.category-icon {
    width: 30px;
    height: 30px;
    margin-bottom: 5px;
}
</style>